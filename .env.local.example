# ============================================================================
# Authentication Configuration
# ============================================================================

# DEVELOPMENT MODE: Disable authentication for development/testing
# ⚠️ NEVER use in production!
# When set to "true", all auth checks are skipped and users get full access
NEXT_PUBLIC_DISABLE_AUTH=false

# Default role when auth is disabled (development only)
# Options: "admin", "teacher", "student", or any custom role
# Example: admin can access (admin) routes, teacher can access (users)/teacher routes
NEXT_PUBLIC_DEFAULT_ROLE=admin

# Default user ID when auth is disabled (development only)
# Used as the mock user ID in development without Clerk
NEXT_PUBLIC_DEFAULT_USER_ID=dev-user-123

# Default school ID when auth is disabled (development only)
# Used when no school subdomain is detected
NEXT_PUBLIC_DEFAULT_SCHOOL_ID=school_001

# ============================================================================
# Development Setup Examples
# ============================================================================

# Example 1: Test as admin without auth
# NEXT_PUBLIC_DISABLE_AUTH=true
# NEXT_PUBLIC_DEFAULT_ROLE=admin
# NEXT_PUBLIC_DEFAULT_USER_ID=dev-admin
# NEXT_PUBLIC_DEFAULT_SCHOOL_ID=school_001

# Example 2: Test as teacher without auth
# NEXT_PUBLIC_DISABLE_AUTH=true
# NEXT_PUBLIC_DEFAULT_ROLE=teacher
# NEXT_PUBLIC_DEFAULT_USER_ID=dev-teacher
# NEXT_PUBLIC_DEFAULT_SCHOOL_ID=school_001

# Example 3: Test as student without auth
# NEXT_PUBLIC_DISABLE_AUTH=true
# NEXT_PUBLIC_DEFAULT_ROLE=student
# NEXT_PUBLIC_DEFAULT_USER_ID=dev-student
# NEXT_PUBLIC_DEFAULT_SCHOOL_ID=school_001

# ============================================================================
# Clerk Configuration (when ready)
# ============================================================================

# When Clerk is installed, add:
# NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_...
# CLERK_SECRET_KEY=sk_...

# ============================================================================
# Other Environment Variables
# ============================================================================

# Database
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# API endpoints
NEXT_PUBLIC_API_URL=http://localhost:3000

# ============================================================================
# How to Use Auth Flags for Development
# ============================================================================

# ✅ Enable auth restrictions (default - production-like):
# NEXT_PUBLIC_DISABLE_AUTH=false
# Users must be authenticated to access protected routes
# Clerk auth will be enforced

# ✅ Disable auth for dev/testing:
# NEXT_PUBLIC_DISABLE_AUTH=true
# NEXT_PUBLIC_DEFAULT_ROLE=admin
# Users get full access without authentication
# Useful for testing UI/features without Clerk setup

# ✅ Test different roles:
# Change NEXT_PUBLIC_DEFAULT_ROLE to test as different user types
# - admin: Full access to /app/(admin)/*
# - teacher: Full access to /app/(users)/teacher/*
# - student: Full access to /app/(users)/student/*

# ============================================================================
# Important Security Notes
# ============================================================================

# ⚠️ These flags are ONLY for development!
# - NEXT_PUBLIC_DISABLE_AUTH bypasses all authentication
# - Never commit NEXT_PUBLIC_DISABLE_AUTH=true to version control
# - Always use NEXT_PUBLIC_DISABLE_AUTH=false in production
# - Use .gitignore to prevent accidental commits

# How it works in code:
# - layouts check isAuthDisabledMode() from user-school-provider.ts
# - If true, they skip all auth guards and allow access
# - If false, normal Clerk auth is enforced

# Example layout guard:
# ```typescript
# import { isAuthDisabledMode } from "@/types/user-school-provider";
#
# export default async function AdminLayout({ children }) {
#     const context = await getUserSchoolContext();
#
#     // Skip guards if auth is disabled (dev mode)
#     if (isAuthDisabledMode()) {
#         return <div>{children}</div>;
#     }
#
#     // Normal auth checks
#     if (!context.isAuthorized || !isSchoolAdmin(context)) {
#         redirect("/forbidden");
#     }
#
#     return <div>{children}</div>;
# }
# ```
